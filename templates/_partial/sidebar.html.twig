<div id="sidebar" class="col-auto p-0 sidebar d-flex flex-column border-end vh-100 p-3">
      <div class="text-center mb-4 text-logo">
        <a href="{{ path('app_home') }}">
          <img src="{{ asset('build/images/onlysignals_logo.png') }}" alt="OnlySignals Logo" height="40">
          <small class="text-muted d-block">v1.0</small>
        </a>
      </div>

      <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
          <a href="{{ path('app_home') }}" class="nav-link d-flex align-items-center {{ app.request.attributes.get('_route') == 'app_home' ? 'active' : '' }}">
            <i class="bi bi-bar-chart me-2"></i><span>OnlySignals AI</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="{{ path('app_trading_signal_history') }}" class="nav-link d-flex align-items-center {{ app.request.attributes.get('_route') == 'app_trading_signal_history' ? 'active' : '' }}">
            <i class="bi bi-clock-history me-2"></i><span>{{ 'Signal History'|trans }}</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="{{ path('subscription_plans') }}" class="nav-link d-flex align-items-center {{ app.request.attributes.get('_route') == 'subscription_plans' ? 'active' : '' }}">
            <i class="bi bi-credit-card me-2"></i><span>{{ 'Abonnement'|trans }}</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="#" class="nav-link disabled d-flex align-items-center">
            <i class="bi bi-people me-2"></i><span>{{ 'Community Signals'|trans }}</span>
            <span class="badge bg-success ms-auto">Soon</span>
          </a>
        </li>

        {% if app.user %}
        <li class="nav-item">
          <a href="{{ path('app_profile') }}" class="nav-link d-flex align-items-center {{ app.request.attributes.get('_route') == 'app_profile' ? 'active' : '' }}">
            <i class="bi bi-person me-2"></i><span>{{ 'Account'|trans }}</span>
          </a>
        </li>
        {% endif %}
        {% if is_granted('ROLE_ADMIN') %}
        <li class="nav-item">
          <a href="{{ path('app_dashboard') }}" class="nav-link d-flex align-items-center {{ app.request.attributes.get('_route') starts with 'app_dashboard' ? 'active' : '' }}">
            <i class="bi bi-speedometer2 me-2"></i><span>{{ 'Back Office'|trans }}</span>
          </a>
        </li>
        {% endif %}
      </ul>

      <hr>

      <div class="mb-4">
        <p class="text-light small">{{ 'A problem or an idea to improve our platform'|trans }} ?</p>
        <a href="https://wa.me/33659778228" target="_blank" class="btn btn-outline-secondary w-100 d-flex align-items-center justify-content-between">
          <span><i class="bi bi-chat-dots me-1"></i> {{ 'Contact me'|trans }}</span>
          <i class="bi bi-box-arrow-up-right"></i>
        </a>
      </div>

      <div class="mt-auto">
        <hr>
        {% if app.user %}
        <div class="d-flex align-items-center mb-2">
          <img src="https://picsum.photos/id/237/200/200" class="rounded-circle me-2 border" height="40" width="40" alt="User Avatar">
          <div>
            <strong class="text-light small d-block">{{ app.user.username }}</strong>
            <a href="{{ path('app_profile') }}" class="text-light small text-decoration-none">
              <i class="bi bi-person me-1"></i> {{ 'Mon profil'|trans }}
            </a>
          </div>
        </div>

        <form method="post" action="{{ path('app_logout') }}">
          <button type="submit" class="btn btn-primary w-100 d-flex align-items-center justify-content-center">
            <i class="bi bi-box-arrow-right me-2"></i> {{ 'Logout'|trans }}
          </button>
        </form>
        {% else %}
        <div class="p-3 rounded border">
          <div class="d-flex align-items-center mb-2">
            <div class="bg-secondary bg-opacity-10 border border-secondary-subtle rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
              <i class="bi bi-person-circle text-secondary fs-5"></i>
            </div>
            <div>
              <strong class="small text-light">{{ 'Not logged in'|trans }}</strong><br>
              <a href="{{ path('app_login') }}" class="small text-decoration-none text-light">{{ 'Login'|trans }}</a>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
    </div>