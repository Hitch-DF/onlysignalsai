<div class="container my-5 position-relative">

	<div class="mb-3 d-flex flex-wrap gap-3 align-items-end">
		<div>
			<label class="form-label text-muted">{{ 'All Assets'|trans }}</label>
			<select class="form-select bg-dark text-light border-secondary column-filter" data-column="0">
				<option value="">{{ 'All Assets'|trans }}</option>
				{% for asset in assets %}
					<option value="{{ asset }}">{{ asset }}</option>
				{% endfor %}
			</select>
		</div>

		<div>
			<label class="form-label text-muted">{{ 'All Types'|trans }}</label>
			<select class="form-select bg-dark text-light border-secondary column-filter" data-column="4">
				<option value="">{{ 'All Types'|trans }}</option>
				<option value="Buy">{{ 'Buy'|trans }}</option>
				<option value="Sell">{{ 'Sell'|trans }}</option>
			</select>
		</div>

		<div>
			<label class="form-label text-muted">{{ 'All Categories'|trans }}</label>
			<select class="form-select bg-dark text-light border-secondary column-filter" data-column="5">
				<option value="">{{ 'All Categories'|trans }}</option>
				{% for cat in categories %}
					<option value="{{ cat }}">{{ cat }}</option>
				{% endfor %}
			</select>
		</div>

		<div>
			<label class="form-label text-muted">{{ 'Pick a date range'|trans }}</label>
			<input type="text" id="date-range" class="form-control bg-dark text-light border-secondary" placeholder="{{ 'Pick a date range'|trans }}">
		</div>

		<div>
			<button id="reset-filters" class="btn btn-outline-secondary mt-2">
				{{ 'Reset Filters'|trans }}
			</button>
		</div>
	</div>

	<div class="table-responsive shadow-sm rounded border border-secondary">
		<table id="signals-table" class="table table-dark table-hover table-bordered align-middle mb-0">
			<thead class="bg-dark text-light">
				<tr>
					<th>{{ 'Asset'|trans }}</th>
					<th>{{ 'Price'|trans }}</th>
					<th>{{ 'Date'|trans }}</th>
					<th>{{ 'Signal Age'|trans }}</th>
					<th>{{ 'Signal Type'|trans }}</th>
					<th>{{ 'Category'|trans }}</th>
					<th>{{ 'Chart'|trans }}</th>
				</tr>
			</thead>
			<tbody>
				{% for signal in signalsHistory %}
					<tr>
						<td class="fw-semibold">{{ signal.symbol }}</td>
						<td>${{ signal.entryPrice|number_format(2, '.', ',') }}</td>
						<td>{{ signal.createdAt|date('Y-m-d') }}</td>
						<td>{{ signal.signalAge }}</td>
						<td>
							{% if signal.signalType == 'Buy' %}
								<span class="badge bg-success text-light d-inline-flex align-items-center px-3 py-1 gap-1 small rounded-pill">
									<i class="bi bi-graph-up-arrow"></i> {{ 'Buy'|trans }}
								</span>
							{% else %}
								<span class="badge bg-danger text-light d-inline-flex align-items-center px-3 py-1 gap-1 small rounded-pill">
									<i class="bi bi-graph-down-arrow"></i> {{ 'Sell'|trans }}
								</span>
							{% endif %}
						</td>
						<td>
							<span class="badge bg-secondary text-light d-inline-flex align-items-center gap-1 px-3 py-1 rounded-pill">
								<i class="bi bi-tag-fill small"></i> {{ signal.category }}
							</span>
						</td>
						<td>
							<a href="https://www.tradingview.com/chart/?symbol={{ signal.symbol }}" target="_blank"
							   class="btn btn-outline-secondary btn-sm d-inline-flex align-items-center gap-1">
								{{ 'View'|trans }}
								<i class="bi bi-box-arrow-up-right"></i>
							</a>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>
